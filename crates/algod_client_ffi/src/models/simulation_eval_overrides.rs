/*
 * Algod REST API.
 *
 * API endpoint for algod operations.
 *
 * The version of the OpenAPI document: 0.0.1
 * Contact: contact@algorand.com
 * Generated by: Rust OpenAPI Generator
 */

use crate::models;
use algod_client::models::SimulationEvalOverrides as RustSimulationEvalOverrides;
use algokit_transact_ffi::SignedTransaction as AlgokitSignedTransaction;

/// The set of parameters and limits override during simulation. If this set of parameters is present, then evaluation parameters may differ from standard evaluation in certain ways.
#[derive(Clone, Default, Debug, PartialEq, uniffi::Record)]
pub struct SimulationEvalOverrides {
    /// If true, transactions without signatures are allowed and simulated as if they were properly signed.
    pub allow_empty_signatures: Option<bool>,
    /// If true, allows access to unnamed resources during simulation.
    pub allow_unnamed_resources: Option<bool>,
    /// The maximum log calls one can make during simulation
    pub max_log_calls: Option<u64>,
    /// The maximum byte number to log during simulation
    pub max_log_size: Option<u64>,
    /// The extra opcode budget added to each transaction group during simulation
    pub extra_opcode_budget: Option<u64>,
    /// If true, signers for transactions that are missing signatures will be fixed during evaluation.
    pub fix_signers: Option<bool>,
}

impl From<RustSimulationEvalOverrides> for SimulationEvalOverrides {
    fn from(rust_struct: RustSimulationEvalOverrides) -> Self {
        Self {
            allow_empty_signatures: rust_struct.allow_empty_signatures.into(),
            allow_unnamed_resources: rust_struct.allow_unnamed_resources.into(),
            max_log_calls: rust_struct.max_log_calls.into(),
            max_log_size: rust_struct.max_log_size.into(),
            extra_opcode_budget: rust_struct.extra_opcode_budget.into(),
            fix_signers: rust_struct.fix_signers.into(),
        }
    }
}

impl From<SimulationEvalOverrides> for RustSimulationEvalOverrides {
    fn from(ffi_struct: SimulationEvalOverrides) -> Self {
        Self {
            allow_empty_signatures: ffi_struct.allow_empty_signatures.into(),
            allow_unnamed_resources: ffi_struct.allow_unnamed_resources.into(),
            max_log_calls: ffi_struct.max_log_calls.into(),
            max_log_size: ffi_struct.max_log_size.into(),
            extra_opcode_budget: ffi_struct.extra_opcode_budget.into(),
            fix_signers: ffi_struct.fix_signers.into(),
        }
    }
}
