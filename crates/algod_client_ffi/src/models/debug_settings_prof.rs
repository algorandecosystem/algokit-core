/*
 * Algod REST API.
 *
 * API endpoint for algod operations.
 *
 * The version of the OpenAPI document: 0.0.1
 * Contact: contact@algorand.com
 * Generated by: Rust OpenAPI Generator
 */

use crate::models;
use algod_client::models::DebugSettingsProf as RustDebugSettingsProf;

/// algod mutex and blocking profiling state.
#[derive(Clone, Default, Debug, PartialEq, uniffi::Record)]
pub struct DebugSettingsProf {
    /// The rate of blocking events. The profiler aims to sample an average of one blocking event per rate nanoseconds spent blocked. To turn off profiling entirely, pass rate 0.
    pub block_rate: Option<u64>,
    /// The rate of mutex events. On average 1/rate events are reported. To turn off profiling entirely, pass rate 0
    pub mutex_rate: Option<u64>,
}

impl From<RustDebugSettingsProf> for DebugSettingsProf {
    fn from(rust_struct: RustDebugSettingsProf) -> Self {
        Self {
            block_rate: rust_struct.block_rate.into(),
            mutex_rate: rust_struct.mutex_rate.into(),
        }
    }
}

impl From<DebugSettingsProf> for RustDebugSettingsProf {
    fn from(ffi_struct: DebugSettingsProf) -> Self {
        Self {
            block_rate: ffi_struct.block_rate.into(),
            mutex_rate: ffi_struct.mutex_rate.into(),
        }
    }
}
