/*
 * Algod REST API.
 *
 * API endpoint for algod operations.
 *
 * The version of the OpenAPI document: 0.0.1
 * Contact: contact@algorand.com
 * Generated by: Rust OpenAPI Generator
 */

use crate::models;
use algod_client::models::Genesis as RustGenesis;

use crate::models::GenesisAllocation;

#[derive(Clone, Default, Debug, PartialEq, uniffi::Record)]
pub struct Genesis {
    pub alloc: Vec<GenesisAllocation>,
    pub comment: Option<String>,
    pub devmode: Option<bool>,
    pub fees: String,
    pub id: String,
    pub network: String,
    pub proto: String,
    pub rwd: String,
    pub timestamp: u64,
}

impl From<RustGenesis> for Genesis {
    fn from(rust_struct: RustGenesis) -> Self {
        Self {
            alloc: rust_struct.alloc.into_iter().map(|v| v.into()).collect(),
            comment: rust_struct.comment.map(|v| v.into()),
            devmode: rust_struct.devmode.map(|v| v.into()),
            fees: rust_struct.fees.into(),
            id: rust_struct.id.into(),
            network: rust_struct.network.into(),
            proto: rust_struct.proto.into(),
            rwd: rust_struct.rwd.into(),
            timestamp: rust_struct.timestamp.into(),
        }
    }
}

impl From<Genesis> for RustGenesis {
    fn from(ffi_struct: Genesis) -> Self {
        Self {
            alloc: ffi_struct.alloc.into_iter().map(|v| v.into()).collect(),
            comment: ffi_struct.comment.map(|v| v.into()),
            devmode: ffi_struct.devmode.map(|v| v.into()),
            fees: ffi_struct.fees.into(),
            id: ffi_struct.id.into(),
            network: ffi_struct.network.into(),
            proto: ffi_struct.proto.into(),
            rwd: ffi_struct.rwd.into(),
            timestamp: ffi_struct.timestamp.into(),
        }
    }
}
