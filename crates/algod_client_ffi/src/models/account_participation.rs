/*
 * Algod REST API.
 *
 * API endpoint for algod operations.
 *
 * The version of the OpenAPI document: 0.0.1
 * Contact: contact@algorand.com
 * Generated by: Rust OpenAPI Generator
 */

use crate::models;
use algod_client::models::AccountParticipation as RustAccountParticipation;
use algokit_transact_ffi::SignedTransaction as AlgokitSignedTransaction;

/// AccountParticipation describes the parameters used by this account in consensus protocol.
#[derive(Clone, Debug, PartialEq, uniffi::Record)]
pub struct AccountParticipation {
    /// [sel] Selection public key (if any) currently registered for this round.
    pub selection_participation_key: Vec<u8>,
    /// [voteFst] First round for which this participation is valid.
    pub vote_first_valid: u64,
    /// [voteKD] Number of subkeys in each batch of participation keys.
    pub vote_key_dilution: u64,
    /// [voteLst] Last round for which this participation is valid.
    pub vote_last_valid: u64,
    /// [vote] root participation public key (if any) currently registered for this round.
    pub vote_participation_key: Vec<u8>,
    /// [stprf] Root of the state proof key (if any)
    pub state_proof_key: Option<Vec<u8>>,
}

impl From<RustAccountParticipation> for AccountParticipation {
    fn from(rust_struct: RustAccountParticipation) -> Self {
        Self {
            selection_participation_key: rust_struct.selection_participation_key,
            vote_first_valid: rust_struct.vote_first_valid,
            vote_key_dilution: rust_struct.vote_key_dilution,
            vote_last_valid: rust_struct.vote_last_valid,
            vote_participation_key: rust_struct.vote_participation_key,
            state_proof_key: rust_struct.state_proof_key,
        }
    }
}

impl From<AccountParticipation> for RustAccountParticipation {
    fn from(ffi_struct: AccountParticipation) -> Self {
        Self {
            selection_participation_key: ffi_struct.selection_participation_key,
            vote_first_valid: ffi_struct.vote_first_valid,
            vote_key_dilution: ffi_struct.vote_key_dilution,
            vote_last_valid: ffi_struct.vote_last_valid,
            vote_participation_key: ffi_struct.vote_participation_key,
            state_proof_key: ffi_struct.state_proof_key,
        }
    }
}
